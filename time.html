<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Adovasio Time</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
    margin: 0;
    background: #0b1220;
    color: #e5e7eb;
    font-family: system-ui, -apple-system, sans-serif;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100vh;
}

.container {
    text-align: center;
}

.clock {
    font-size: 6rem;
    font-weight: 700;
    letter-spacing: 0.05em;
}

.ms {
    font-size: 2rem;
    vertical-align: super;
}

.info {
    margin-top: 1.5rem;
    font-size: 0.95rem;
    color: #9ca3af;
}

a {
    color: #60a5fa;
    text-decoration: none;
}
</style>
</head>
<body>

<div class="container">
    <div class="clock" id="clock">--:--:--.<span class="ms">---</span></div>
    <div class="info">
        Synchronized via <strong>time.adovasio.com</strong><br>
        Backed by Adovasio NTP<br>
        <a href="https://adovasio.com">adovasio.com</a>
    </div>
</div>

<script>
let baseTime = 0;
let basePerf = 0;

async function syncTime() {
    const res = await fetch('https://time.adovasio.com', {
        method: 'HEAD',
        cache: 'no-store'
    });

    const dateHeader = res.headers.get('Date');
    if (!dateHeader) return;

    baseTime = new Date(dateHeader).getTime();
    basePerf = performance.now();
}

function tick() {
    if (!baseTime) return requestAnimationFrame(tick);

    const now = baseTime + (performance.now() - basePerf);
    const d = new Date(now);

    const h = String(d.getUTCHours()).padStart(2, '0');
    const m = String(d.getUTCMinutes()).padStart(2, '0');
    const s = String(d.getUTCSeconds()).padStart(2, '0');
    const ms = String(d.getUTCMilliseconds()).padStart(3, '0');

    document.getElementById('clock').innerHTML =
        `${h}:${m}:${s}.<span class="ms">${ms}</span>`;

    requestAnimationFrame(tick);
}

syncTime().then(tick);
setInterval(syncTime, 15000); // re-sync every 15s
</script>

</body>
</html>
